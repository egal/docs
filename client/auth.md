## Аутентификация

Выполняется с помощью действия `AuthAction`.

Для аутентификации используется JWT токены:
- User master Token (UMT)
- User Service Token (UST).

Этапы авторизации в системе:
- Пользователь регистрируется в системе, передавая `email` и пароль на
  endpoint `registerByEmailAndPassword`.
- После ответа от `registerByEmailAndPassword` пользователь авторизуется
  в системе, передавая выбранный `email` и пароль на endpoint
  `loginByEmailAndPassword`. В качестве ответа от сервера получается
  UMT.
- UMT должен направляться на endpoint `loginToService` вместе с
  названием сервиса, к которому требуется получить доступ.

  Например:

  ```javascript
  userCred = { service_name: 'monolit', token: token };
  ```

В ответ на этот запрос направляется UST токен.

Он должен отправляться на сервер вместе с каждым запросом для проверки
статуса пользователя.

Если UST токен просрочен, нужно проверить действителен ли UMT токен и,
используя его, заново запросить UST токен.

Подробнее о процессе авторизации написано
[здесь](/server/autorization.md).

Пример внедрения авторизации на конкретном Vue проекте
[здесь](/client/example_auth.md).

