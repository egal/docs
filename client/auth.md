## Аутентификация

Выполняется посредством отдельного Action AuthAction.

Для аутентификации используется JWT токены: **Пользовательский мастер токен (UMT)** и **Пользовательский сервис токен (UST)**.

Авторизация в системе:

- пользователь регистрируется в системе, передав выбранный *email* и пароль на эндпроинт  *registerByEmailAndPassword*;
- после ответа от *registerByEmailAndPassword* пользователь авторизуется в системе, передав выбранный *email* и пароль на эндпойнт *loginByEmailAndPassword*. В качестве ответа от сервера получается UMT;
- Далее, UMT отправляется на эндпойнт *loginToService* вместе с названием микросервиса, к которому получаем доступ;
**Например:**
```
userCred = { service_name: 'monolit', token: token };
```
В качестве ответа на этот запрос получается UST токен.

Он отправляется на сервер вместе с каждым запросом для проверки статуса пользователя.

Если UST токен просрочен, проверяем действителен ли UMT токен и, используя UMT, заново запрашиваем UST токен.

Подробнее о процессе авторизации написано [здесь](/server/autorization).

Пример внедрения авторизации на конкретном Vue проекте [здесь](/client/example_auth.md).
