## Фильтрация, сортировка и пагинация

При использовании [ActionConstructor](action_constructor.md) параметры фильтрации, сортировки и пагинации передаются в соответсвующих методах:
1) Фильтрация:
Параметры фильтрации передаются через метод `.filter` и формируются следующим образом:
```javascript
const filter = [
  {
    field: 'email',
    operator: 'eq',
    value: 'email@email.com'
  },
  {
    field: 'id',
    operator: 'eq',
    value: [1,2,3,4,5]
  },
  {
    left: {
      field: 'age',
      operator: 'gt',
      value: 20
    },
    type: 'or',
    right: {
      field: 'age',
      operator: 'lt',
      value: 30
    }
  }
];
```
Полный список доступных операторов:

| Оператор | Описание                                                                                                      | Пример в SQL                          |
|:--------:|:--------------------------------------------------------------------------------------------------------------|:--------------------------------------|
|   `eq`   | Ищет точное соответствие                                                                                      | `"full_name"="Иванов Иван Иванович"`  |
|   `ne`   | Возвращает строки которые не ровны значению                                                                   | `"full_name"!="Иванов Иван Иванович"` |
|   `gt`   | Возвращает строки в которых значение поля больше значения аргумента (см. правила сравнения типов данных в бд) | `"price" > 1000`                      |
|   `lt`   | Возвращает строки в которых значение поля меньше значения аргумента                                           | `"price" < 1000`                      |
|   `ge`   | Возвращает строки в которых значение поля больше или ровно значения аргумента                                 | `"price" >= 1000`                     |
|   `le`   | Возвращает строки в которых значение поля меньше или ровно значения аргумента                                 | `"price" <= 1000`                     |
|   `co`   | Возвращает строки в которых значение поля содержит частичное соответствие искомой строки                      | `"full_name" LIKE "%Иван%"`           |
|   `nc`   | Возвращает строки в которых значение поля не содержит частичное соответствие искомой строки                   | `"full_name" NOT LIKE "%Иван%"`       |
|   `sw`   | Возвращает строки в которых значение поля начинается с искомой строки                                         | `"full_name" LIKE "Иван%"`            |
|   `ew`   | Возвращает строки в которых значение поля оканчивается искомой строкой                                        | `"full_name" LIKE "%Иван"`            |
|   `or`   | Оператор логическое ИЛИ. Используется для составления более сложных условий                                   | `"price" > 1000 OR "price" < 2000`    |
|  `and`   | Оператор логическое И. Используется для составления более сложных условий                                     | `"price" > 1000 AND "price" < 2000`   |

Также доступна фильтрация по связанным сущностям:
```javascript
  {
    field: 'relation_name.field_name',
    operator: 'eq',
    value: 'value'
  }
```

2) Сортировка:
Параметры сортировки передаются через метод `.order` и формируются следующим образом:

```javascript
let orders = [['name', 'desc'], ['id', 'asc']]
```

3) Пагинация:
Параметры пагинации передаются через метод `.setPagination` и формируются следующим образом:

```javascript
getItems('microservice_name', 'model_name').setPagination('per_page_number', 'page_number')
```

Общий пример запроса к `getItems` с дополнительными параметрами можно найти [здесь](examples.md)