# Авторизация

## Модель User

## Доступные маршруты

Авторизация представлена следующими маршрутами:

### Регистрация

Пример запроса на регистрацию пользователя:
```http request
curl --location --request POST 'http://localhost:80/register' \
--header 'Content-Type: application/json' \
--data-raw '{
    "email": "admin@gmail.com",
    "password":"123123"
}'
```

### Авторизация

#### Типы авторизации

С помощью заголовка запроса `Authorization-Type` указывается тип авторизации. Поддерживаемые типы авторизации:
* cookie;

Токены записываются в сессию на сервере, после чего сессия передается в шифрованном виде посредством cookie. В дальнейшем 
для обращения к endpoints в качестве авторизированного пользователя с каждым запросом отправляются полученные cookie.

* header.

Токены передаются в теле ответа при логине пользователя. В дальнейшем для обращения к endpoints в качестве 
авторизированного пользователя с каждым запросом отправляется заголовок `Authorization` с токеном доступа.

### Обновление токенов

| Метод |    Адрес     | Назначение                |
|:-----:|:------------:|:--------------------------|
| POST  |   register   | Регистрация пользователя. |
| POST  |    login     | Авторизация пользователя. |
| POST  | refreshToken | Обновление токенов.       |

## Токены 
Авторизация основана на двух видах jwt-токенов:

* Токен доступа (AccessToken);
* Токен обновления (RefreshToken).

## Управление ролями

Для каждого вида токена можно задать время жизни следующими переменными
окружения (значение означает время в секундах):
